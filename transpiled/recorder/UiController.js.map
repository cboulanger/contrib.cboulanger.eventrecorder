{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-recorder/source/class/recorder/UiController.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "window",
    "Window",
    "construct",
    "recorderImplementation",
    "set",
    "width",
    "height",
    "modal",
    "showMinimize",
    "showMaximize",
    "layout",
    "VBox",
    "recorder",
    "AbstractRecorder",
    "error",
    "_recorder",
    "startButton",
    "form",
    "ToggleButton",
    "addListener",
    "toggle",
    "_startButton",
    "add",
    "stopButton",
    "Button",
    "enabled",
    "stop",
    "_stopButton",
    "codeEditor",
    "TextArea",
    "wrap",
    "_codeEditor",
    "flex",
    "members",
    "e",
    "getData",
    "isPaused",
    "resume",
    "setValue",
    "start",
    "setLabel",
    "setEnabled",
    "pause",
    "value",
    "label",
    "script",
    "generateScript",
    "getLines",
    "UiController"
  ],
  "mappings": "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",
  "file": "UiController.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n  UI Event Recorder\n\n  Copyright:\n    2018 Christian Boulanger\n\n  License:\n    MIT license\n    See the LICENSE file in the project's top-level directory for details.\n\n  Authors: Christian Boulanger\n\n\n************************************************************************ */\n\n/**\n * This is a qooxdoo class\n */\nqx.Class.define(\"recorder.UiController\",\n{\n\n  extend : qx.ui.window.Window,\n\n  /**\n   * Constructor\n   */\n  construct : function(recorderImplementation) {\n    this.base(arguments);\n    this.set({\n      width: 200,\n      height: 400,\n      modal: false,\n      showMinimize: false,\n      showMaximize: false,\n      layout: new qx.ui.layout.VBox(5)\n    });\n\n    if (! recorderImplementation instanceof recorder.AbstractRecorder){\n      this.error(\"Argument must be instanceof recorder.AbstractRecorder.\");\n      return;\n    }\n    this._recorder = recorderImplementation;\n\n    let startButton = new qx.ui.form.ToggleButton(\"Start\",null);\n    startButton.addListener(\"changeValue\", this.toggle, this);\n    this._startButton = startButton;\n    this.add(startButton);\n\n    let stopButton = new qx.ui.form.Button(\"Stop\",null);\n    stopButton.set({enabled:false});\n    stopButton.addListener(\"execute\", this.stop, this);\n    this._stopButton = stopButton;\n    this.add(stopButton);\n\n    let codeEditor = new qx.ui.form.TextArea();\n    codeEditor.set({\n      wrap: false\n    })\n    this._codeEditor = codeEditor;\n    this.add(codeEditor, {flex:1});\n  },\n\n\n  /**\n   * The methods and simple properties of this class\n   */\n  members :\n  {\n    _recorder : null,\n    _startButton : null,\n    _stopButton : null,\n    _codeEditor : null,\n\n    toggle(e) {\n      if (e.getData()) {\n        if (this._recorder.isPaused()){\n          this._recorder.resume();\n        } else {\n          this._codeEditor.setValue(\"\");\n          this._recorder.start();\n        }\n        this._startButton.setLabel(\"Recording, click to pause...\");\n        this._stopButton.setEnabled(true);\n      } else {\n        this._recorder.pause();\n        this._startButton.setLabel(\"Continue\");\n      }\n    },\n\n    stop() {\n      this._startButton.set({\n        enabled: true,\n        value: false,\n        label: \"Start\"\n      });\n      this._stopButton.setEnabled(false);\n      this._recorder.stop();\n      let script = this._recorder.generateScript(this._recorder.getLines());\n      this._codeEditor.setValue(script);\n    }\n  }\n});\n"
  ]
}